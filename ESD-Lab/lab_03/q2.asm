	AREA RESET, DATA, READONLY
	EXPORT __Vectors
	
__Vectors
	DCD 0x10001000 ; stack pointer value
	DCD Reset_Handler ; reset vectors
	ALIGN
	AREA mycode, CODE, READONLY
	ENTRY
	EXPORT Reset_Handler

Reset_Handler
	LDR R0, =SRC1
	LDR R1, =SRC2
	LDR R7, =DST
	MOV R2, #8
	LDR R6, =0x20000000
	MSR xPSR, R6
	
UP  LDR R3, [R0], #4
	LDR R4, [R1],#4
	SBCS R5, R3, R4
	STR  R5, [R7], #4
	SUBCS R2, #1; SUBCS subtracts and updates flags ONLY IF C FLAG SET
	TEQ R2, #00
	BNE UP
	
STOP
	B STOP

SRC1 DCD 0x33333333, 0x55555555, 0x77777777, 0x55555555, 0x22222222, 0x44444444, 0x66666666, 0x33333333
SRC2 DCD 0x22222222, 0x44444444, 0x66666666, 0x33333333, 0x11111111, 0x22222222, 0x55555555, 0x23232323
	AREA mydata, DATA, READWRITE
DST DCD 0
	END
